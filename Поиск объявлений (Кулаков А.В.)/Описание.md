# Рамки: Приложение электронной доски объявлений.

## Cценарий: Управление избранным

## Уровень: Задача, определенная пользователем

## Основной исполнитель: Зарегистрированный пользователь

### Заинтересованные лица и их требования:

- Покупатель:
  - Хочет добавлять объявления в избранные для последующего оформления заказа
  - Хочет управлять содержимым списка избранного: просматривать и удалять объявления
  - Хочет сохранять избранные между сеансами

- Продавец:
  - Хочет видеть статистику по добавлениям в избранные для аналитики спроса

- Компания:
  - Хочет использовать данные избранного для персонализированных рекомендаций и рассылок

### Предусловия:

- Система содержит опубликованные и прошедшие модерацию объявления
- Пользователь имеет доступ к интерфейсу поиска
- Пользователь должен быть авторизован

### Результаты (Постусловия):

- Пользователь может просмотреть избранные объявления
- Сохраненный список избранных доступен для повторного использования

### Основной успешный сценарий:

1. Пользователь открывает каталог объявлений или карточку объявления  
2. Пользователь нажимает «Добавить в избранное» (можно сделать несколько раз для разных объявлений)  
3. Система показывает подтверждение добавления
4. Пользователь переходит во вкладку «Избранное»  
5. Пользователь видит список сохранённых объявлений с актуальными данными (цена, статус, фото и т.д.)

### Расширения (альтернативные потоки):

- Пользователь удаляет объявление из избранного
> 1. Пользователь открывает вкладку «Избранное» или карточку объявления  
> 2. Пользователь нажимает «Убрать из избранного»  
> 3. Система запрашивает/показывает подтверждение удаления  
> 4. Пользователь видит обновлённый список без удалённого объявления

- Пользователь выходит из системы, а потом возвращается:
> 1. Пользователь добавляет объявления в избранное  
> 2. Пользователь выходит из аккаунта или закрывает приложение  
> 3. Пользователь входит в систему снова (с того же или другого устройства)  
> 4. Пользователь открывает вкладку «Избранное» и видит ранее сохранённый список

- Объявление из избранного стало недоступно (удалено/продано):
> 1. Пользователь открывает «Избранное»  
> 2. Система помечает такое объявление как «Недоступно» или автоматически убирает его из списка  
> 3. Пользователь может вручную удалить устаревшие записи

### Специальные требования:

- Добавление в избранное должно быть максимально простым — один клик/тап
- Мгновенное визуальное подтверждение добавления (анимация сердца, счётчик в иконке)
- Подтверждение при удалении отдельного объявления или очистке всего списка
- Автоматическое обновление данных объявлений в избранном (цена, статус, наличие)
- Опциональные уведомления об изменении цены или статуса объявлений из избранного

### Список технологий и типов данных:

- База данных: таблица/коллекция favorites
- Кэширование списка избранного на клиенте и сервере для быстрого отображения
- Уведомления: push/email/SMS об изменении цены или статуса в избранных объявлениях
- Аналитика: события добавления/удаления в избранное, количество просмотров раздела «Избранное»

### Частота использования:

- Очень высокая: пользователи часто сохраняют десятки объявлений за одну сессию

### Открытые вопросы:

- Нужно ли ограничивать максимальное количество объявлений в избранном?
- Делать ли автоматическую очистку недоступных объявлений?
- Добавлять ли возможность создания нескольких списков избранного (по категориям)?
- Нужны ли push-уведомления об изменении цены/статуса в избранных объявлениях?
