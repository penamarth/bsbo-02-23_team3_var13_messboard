# Рамки: Приложение электронной доски объявлений.

## Cценария: Управление объявлением

## Уровень: Задача, определенная пользователем.

## Основной исполнитель: Зарегистрированный пользователь.

### Заинтересованные лица и их требования:

- Зарегистрированный пользователь:
  - Хочет быстро и легко создать объявление
  - Хочет редактировать объявление без потери видимости и позиций в поиске (при некритичных объявлениях)
  - Хочет удалять или скрывать объявление
  - Хочет управлять статусом объявления (активное, пауза, продано)

- Администратор:
  - Хочет обеспечить корректную модерацию и соответствие правилам платформы
  - Хочет предотвращать мошенничество и спам

- Компания:
  - Хочет максимизировать публикации качественных объявлений (для увеличения прибыли)
  - Хочет получать комиссию с продаж
  - Хочет иметь аналитические данные по жизненному циклу объявлений (для предсказания трендов)

### Предусловия:

- Пользователь авторизован в системе
- У пользователя есть подтвержденны контактные данные
- Система поддерживает категории, шаблоны форм и правила модерации

### Результаты (Постусловия):

- Объявление добавлено, отредактировано или удалено согласно действиям пользователя
- Пользователь видит актуальный статус объявления и может управлять им дальше (изменять, продлевать, активировать/деактивировать)

### Основной успешный сценарий:

1. Пользователь открывает раздел "Мои объявления" и выбирает действие "Добавить объявление"
2. Система отображает форму создания: заголовок, описание, категория, цена, фото/видео
3. Пользователь заполняет форму, загружает медиа, выбирает категорию и подтверждает правила платформы
4. Система валидирует данные (обязательные поля, формат цены, лимиты фото, запрещенные слова/контент)
5. При успешной валидации система создает объявление в статусе "на модерации"
7. Пользователь видит объявление в списке "Мои объявления" со статусом и доступными действиями: редактировать, удалить и т. д.

### Расширения (альтернативные потоки):

- Пользователь при необходимости выбирает "Редактировать"
> 1. Система отображает форму с заполненными данными
> 2. Пользователь редактирует форму
> 3. Система валидирует данные
> 4. При успешной валидации система создает объявление в статусе "на модерации"
> 5. Пользователь видит объявление в списке "Мои объявления" со статусом и доступными действиями: редактировать, удалить и т. д.

- Пользователь при необходимости выбирает "Удалить"
> 1. Система спрашивает подтверждение об удалении
> 2. Объявление удаляется
> 3. Пользователь видит объявление в списке "Мои объявления" со статусом и доступными действиями: редактировать, удалить и т. д.

- Ошибка валидации при создании или редактировании:
> 1. Система подсвечивает некорректные поля и показывает сообщения об ошибках
> 2. Пользователь исправляет данные и повторяет сохранение

- Объявление требует ручной модерации:
> 1. Система устанавливает статус "на модерации" и скрывает объявление из поиска до проверки
> 2. Администратор утверждает/отклоняет с указанием причин
> 3. Пользователь получает уведомление и может внести корректировки при отклонении

- Изменение критичных атрибутов (категория, цена, заголовок) может повлиять на ранжирование:
> 1. Система информирует пользователя о влиянии изменений на видимость

- Медиафайлы не проходят проверку (размер, формат, контент):
> 1. Система отклоняет соответствующие файлы и предлагает перезагрузку
> 2. Пользователь загружает корректные медиа

### Специальные требования:

- Интуитивная форма создания/редактирования с подсказками, предпросмотром и автосохранением черновика
- Валидация в реальном времени и понятные сообщения об ошибках
- Логирование истории изменений для валидации и модерации.
- Возможность черновиков
- Гибкая политика модерации: авто- и ручная проверка, фильтрация запрещенного контента
- Нотификации о статусе (модерация, опубликовано, отклонено, продлено, продано)
- Доступность интерфейса и поддержка мобильных устройств

### Список технологий и типов данных:

- Данные объявления: заголовок, описание, цена, местоположение, категория, параметры доставки/оплаты, контактные данные, фото/видео, теги, статус, даты
- Модерация: сервис проверки контента (ML/правила), антиспам/антифрод
- Медиа: сервис хранения и оптимизации изображений/видео, генерация превью
- Уведомления о смене статуса
- Аналитика: события CRUD, статусные переходы

### Частота использования:

- Добавление - средняя частота, пиковые нагрузки в сезоны распродаж
- Редактирование - высокая частота в первые дни после публикации
- Удаление - средняя частота по завершении сделки или истечении актуальности

### Открытые вопросы:
- Какие поля должны быть обязательными для разных категорий?
- Какой порог изменений требует повторной модерации?
- Какие лимиты по количеству активных объявлений и обновлений в сутки для одного пользователя?
- Поддерживать ли платные промо-опции (поднятие, закрепление, витрина) и как они взаимодействуют с редактированием?
- Разрешать ли восстановление удаленных объявлений и в течение какого срока?
- Нужны ли шаблоны и массовый импорт (CSV/API) для продавцов с большим инвентарем?
